{% extends "base.html" %}
{% load static %}

{% block title %}
  {% if category %}{{ category.name }}{% else %}Products{% endif %}
{% endblock %}

{% block content %}
<section class="hero" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), url('{% static "images/site/hero/main.png" %}'); background-size: cover; background-position: center; background-attachment: fixed;">
    <div class="hero-content">
        <h1>UNLEASH YOUR <span class="text-yellow">DRIVE</span></h1>
        <p style="font-size: 1.2rem; color: var(--text-muted); max-width: 600px; margin: 0 auto 2rem;">Discover premium automotive accessories designed for performance, style, and durability. FCA brings you the future of car customization.</p>
        <div style="display: flex; gap: 1rem; justify-content: center;">
            <a href="#products" class="fca-btn">BROWSE SHOP</a>
            <a href="#categories" class="fca-btn" style="background: transparent; border: 1px solid var(--primary-yellow); color: var(--primary-yellow);">CATEGORIES</a>
        </div>
    </div>
</section>

<!-- Featured Categories -->
<section id="categories" class="container" style="padding: 5rem 5%;">
    <h2 style="font-size: 2.5rem; text-align: center; margin-bottom: 3rem;">FEATURED <span class="text-yellow">CATEGORIES</span></h2>
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem;">
        <div class="fca-card" style="height: 300px; display: flex; flex-direction: column; justify-content: flex-end; background: linear-gradient(to bottom, transparent 20%, #000 90%), url('{% static "images/site/categories/exterior.png" %}'); background-size: cover; background-position: center;">
            <h3 style="text-shadow: 0 2px 4px rgba(0,0,0,0.8);">EXTERIOR</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem; text-shadow: 0 1px 2px rgba(0,0,0,0.8);">Body kits, Spoilers, Grilles</p>
        </div>
        <div class="fca-card" style="height: 300px; display: flex; flex-direction: column; justify-content: flex-end; background: linear-gradient(to bottom, transparent 20%, #000 90%), url('{% static "images/site/categories/performance.png" %}'); background-size: cover; background-position: center;">
            <h3 style="text-shadow: 0 2px 4px rgba(0,0,0,0.8);">PERFORMANCE</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem; text-shadow: 0 1px 2px rgba(0,0,0,0.8);">Exhausts, Intakes, Tuning</p>
        </div>
        <div class="fca-card" style="height: 300px; display: flex; flex-direction: column; justify-content: flex-end; background: linear-gradient(to bottom, transparent 20%, #000 90%), url('{% static "images/site/categories/interior.png" %}'); background-size: cover; background-position: center;">
            <h3 style="text-shadow: 0 2px 4px rgba(0,0,0,0.8);">INTERIOR</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem; text-shadow: 0 1px 2px rgba(0,0,0,0.8);">Lighting, Covers, Tech</p>
        </div>
    </div>
</section>

<!-- Why Choose Us -->
<section style="background: #111; padding: 6rem 5%;">
    <div class="container" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 3rem;">
        <div class="feature-card" style="text-align: center;">
            <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;"><i class="fas fa-truck-fast"></i></div>
            <h3>FAST SHIPPING</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem;">Quick delivery across the globe.</p>
        </div>
        <div class="feature-card" style="text-align: center;">
            <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;"><i class="fas fa-gem"></i></div>
            <h3>PREMIUM QUALITY</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem;">Only the best materials for your drive.</p>
        </div>
        <div class="feature-card" style="text-align: center;">
            <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;"><i class="fas fa-screwdriver-wrench"></i></div>
            <h3>EXPERT SUPPORT</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem;">24/7 technical assistance for installation.</p>
        </div>
        <div class="feature-card" style="text-align: center;">
            <div class="feature-icon" style="font-size: 3rem; margin-bottom: 1rem;"><i class="fas fa-rotate-left"></i></div>
            <h3>EASY RETURNS</h3>
            <p style="color: var(--text-muted); font-size: 0.9rem;">30-day money back guarantee.</p>
        </div>
    </div>
</section>

<div id="products" class="container" style="padding-top: 5rem;">
    <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 3rem;">
        <div>
            <h2 style="font-size: 2.5rem;">OUR <span class="text-yellow">COLLECTION</span></h2>
            <p style="color: var(--text-muted);">{% if category %}{{ category.name }}{% else %}All premium accessories{% endif %}</p>
        </div>
        <div style="display: flex; gap: 1rem;">
            <a href="{% url 'shop:product_list' %}" class="fca-card" style="padding: 0.5rem 1rem; text-decoration: none; font-size: 0.9rem; {% if not category %}border-color: var(--primary-yellow);{% endif %}">All</a>
            {% for c in categories %}
                <a href="{{ c.get_absolute_url }}" class="fca-card" style="padding: 0.5rem 1rem; text-decoration: none; font-size: 0.9rem; {% if category and category.slug == c.slug %}border-color: var(--primary-yellow);{% endif %}">{{ c.name }}</a>
            {% endfor %}
        </div>
    </div>

    <div class="product-grid">
        {% for product in products %}
            <div class="fca-card">
                <div style="width: 100%; height: 250px; background: #252525; border-radius: 8px; margin-bottom: 1.5rem; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" style="width: 100%; height: 100%; object-fit: cover;">
                    {% else %}
                        <img src="{% static 'images/site/default-product.png' %}" alt="Product Placeholder" style="width: 100%; height: 100%; object-fit: cover; opacity: 0.7;">
                    {% endif %}
                </div>
                <h3 style="margin-bottom: 0.5rem;">{{ product.name }}</h3>
                <p style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 1rem; height: 3em; overflow: hidden;">{{ product.description|truncatewords:10 }}</p>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-size: 1.25rem; font-weight: 700; color: var(--primary-yellow);">${{ product.price }}</span>
                    <a href="{{ product.get_absolute_url }}" class="fca-btn" style="padding: 0.5rem 1rem; font-size: 0.8rem;">VIEW DETAIL</a>
                </div>
            </div>
        {% empty %}
            <p style="text-align: center; grid-column: 1 / -1; padding: 4rem; color: var(--text-muted);">No products found in this category.</p>
        {% endfor %}
    </div>

    <!-- Newsletter -->
    <div style="margin-top: 8rem; padding: 4rem; background: var(--primary-yellow); border-radius: 20px; text-align: center; color: var(--dark-bg);">
        <h2 style="font-size: 2.5rem; margin-bottom: 1rem;">JOIN THE <span style="font-weight: 900;">ELITE</span></h2>
        <p style="font-weight: 500; margin-bottom: 2rem;">Get exclusive access to new drops and performance tips.</p>
        <form style="display: flex; gap: 1rem; max-width: 500px; margin: 0 auto;">
            <input type="email" placeholder="Enter your email" style="flex-grow: 1; padding: 1rem; border-radius: 8px; border: none;">
            <button class="fca-btn" style="background: var(--dark-bg); color: var(--primary-yellow);">SUBSCRIBE</button>
        </form>
    </div>
</div>
{% endblock %}
